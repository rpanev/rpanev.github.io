---
id: 2
title: Използване на инструмента за проверяване на системни файлове за отстраняване на неизправности с липсващи или повредени файлове в Windows Vista или Windows 7
date: 2013-07-17T10:41:40+00:00
author: panev
layout: post
tie_views:
  - "268"
categories:
  - Windows
---
В тази статия се описва как се използва инструментът за проверка на системни файлове (SFC.exe) за отстраняване на неизправности с липсващи или повредени системни файлове в Windows Vista или Windows 7. 

Ако файл от защитата на ресурсите на Windows (WRP файл) липсва или е повреден, има вероятност Windows да не се държи според очакванията. Възможно е например някои функции на Windows да не работят или Windows да се срине. Инструментът за проверка на системните файлове (SFC.exe) сканира за липсващи или повредени системни файлове и ги поправя.  
<!--more-->

  
Използвайте инструмента за проверка на системни файлове (SFC.exe), за да установите кой файл причинява проблема, след което подменете файла.

За да направите това, следвайте тези стъпки:

Отворете команден прозорец с администраторски права. За целта щракнете върху Старт, Всички програми, Принадлежности, щракнете с десния бутон върху Команден прозорец и след това щракнете върху Изпълнявай като администратор. Ако се появи покана за въвеждане на администраторска парола или за потвърждение, въведете паролата или щракнете върху Позволи.  
В командния прозорец въведете следната команда и натиснете ENTER:  
**sfc /scannow**  
Командата **sfc /scannow** сканира всички защитени системни файлове и заменя неправилните версии с правилни версии на Microsoft.

Стъпка 1: За да установите кои файлове не могат да бъдат поправени от инструмента за проверка на системни файлове.

Отворете команден прозорец с администраторски права, както е описано в предишната стъпка.  
В командния прозорец въведете следната команда и натиснете ENTER:  
**findstr /c:&#8220;[SR]&#8220; %windir%\Logs\CBS\CBS.log >&#8220;%userprofile%\Desktop\sfcdetails.txt&#8220;**

> **Забележка**: Файлът Sfcdetails.txt съдържа подробни данни от всички предишни случаи, когато инструментът за проверка на системни файлове е изпълняван на компютъра. Файлът съдържа информация за файловете, които не са били поправени от инструмента за проверка на системните файлове. Проверете записите за датата и часа, за да определите кои са проблемните файлове, намерени при последното изпълнение на инструмента за проверка на системните файлове.

Въведете sfcdetails.txt в Търсене на програми и файлове и после натиснете ENTER  
Файлът Sfcdetails.txt използва следния формат:  
Дата/час Подробни данни от ПСФ

Следният примерен регистрационен файл съдържа запис за файл, който не може да бъде поправен:

`2007-01-12 12:10:42, Info                  CSI    00000008 [SR] Cannot repair member file [l:34{17}]"Accessibility.dll" of Accessibility, Version = 6.0.6000.16386, pA = PROCESSOR_ARCHITECTURE_MSIL (8), Culture neutral, VersionScope neutral, PublicKeyToken = {l:8 b:b03f5f7f11d50a3a}, Type neutral, TypeName neutral, PublicKey neutral in the store, file is missing`

Стъпка 2: Ако инструментът за проверка на системни файлове не може да поправи файл.

Следвайте тези стъпки:  
В команден прозорец с администраторски права копирайте и после поставете (или въведете) следната команда, след което натиснете ENTER:  
**takeown /f Path\_And\_File_Name**  
Въведете например **takeown /f E:\windows\system32\jscript.dll**.  
Копирайте и поставете (или въведете) следната команда, след което натиснете ENTER, за да предоставите на администраторите пълен достъп до файла:  
**icacls Path\_And\_File_Name /GRANT ADMINISTRATORS:F**  
Въведете например icacls **E:\windows\system32\jscript.dll /grant administrators:F**.  
Копирайте и поставете (или въведете) следната команда, за да замените файла с негово копие, за което се знае, че е добро:  
**Copy Path\_And\_File\_Name\_Of\_Source\_File Path\_And\_File\_Name\_Of_Destination**  
Въведете например **copy E:\temp\jscript.dll E:\windows\system32\jscript.dll**.